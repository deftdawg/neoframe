{
  "packages": [
    "bun",
    "nodejs_22",
    "python3",
    "pixman",
    "cairo",
    "pango",
    "libjpeg",
    "giflib",
    "librsvg",
    "pkg-config"
  ],
  "shell": {
    "init_hook": [
      "export PKG_CONFIG_PATH=\"$DEVBOX_PACKAGES_DIR/pixman/lib/pkgconfig:$DEVBOX_PACKAGES_DIR/cairo/lib/pkgconfig:$DEVBOX_PACKAGES_DIR/pango/lib/pkgconfig:$PKG_CONFIG_PATH\"",
      "echo 'Checking for bun dependencies...'",
      "if [ ! -d 'node_modules/canvas' ]; then bun install; fi",
      "if [ ! -f 'node_modules/canvas/build/Release/canvas.node' ]; then npm install --build-from-source canvas; fi",
      "echo '\n--- Build Instructions ---'",
      "echo 'To build the browser version: bun build-browser.ts'",
      "echo 'To build the CLI version: bun build-cli.ts'",
      "echo '\n--- Run Instructions ---'",
      "echo 'To run the CLI: ./dist/cli.js <path_to_image_or_url> <json_config_string_or_path_to_json> [--wait-for-online <seconds>]'",
      "echo 'To run the web server: bun server.ts'",
      "echo 'Then, open http://localhost:3000 in your browser.'"
    ]
  }
}